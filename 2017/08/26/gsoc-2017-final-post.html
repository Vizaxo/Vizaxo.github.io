<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>GSoC 2017 Wrap-up</title>
  <meta name="description" content="I&amp;#8217;ve spent the last ~3 months working on my GSoC project for Terasology. It&amp;#8217;s been a fantastic experience, I&amp;#8217;ve learned a lot, and I think ...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://vizaxo.github.io/2017/08/26/gsoc-2017-final-post.html">
  <link rel="alternate" type="application/rss+xml" title="Vizaxo" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Vizaxo</a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">GSoC 2017 Wrap-up</h1>
    <p class="post-meta">
      <time datetime="2017-08-26T00:00:00+01:00" itemprop="datePublished">
        
        Aug 26, 2017
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I&#8217;ve spent the last ~3 months working on my <a href="https://developers.google.com/open-source/gsoc/">GSoC</a> project for <a href="http://terasology.org/">Terasology</a>. It&#8217;s been a fantastic experience, I&#8217;ve learned a lot, and I think I&#8217;ve made some valuable contributions that will make further development on the game easier.</p>
<p>My mentors were a huge help with the project, coming up with ideas, helping with problems, and reviewing all of the code I wrote. They helped me learn a lot about the project, and also about coding in general and working with other people on a big project.</p>
<p>I recorded my progress throughout the project in several places. The code (along with some discussion) is presented in GitHub PRs that are linked throughout the rest of this article. I also made a post introducing the project on my blog [[/2017/06/28/google-summer-of-code-introduction.html/2017/06/28/google-summer-of-code-introduction.html][here] and documented my progress in a series of forum posts in <a href="http://forum.terasology.org/threads/new-conceptual-layer-sector-plus-musings-on-multi-world-node.1420/#post-15124">this</a> thread.</p>
<h2>Pools</h2>
<p>The first part of this project was implementing pools. This is an extension of the game&#8217;s entity system, allowing entities to be stored in different locations, in preparation for splitting the game into multiple worlds, or splitting servers across multiple machines.</p>
<p>It also lays the groundwork for the next part of the project, sectors, by allowing sector-scope entities to be stored in their own pool.</p>
<p>My original proposal focused more on this, allowing the pool for sector-scope entities to dynamically split and change depending on where the entities are in the world and which other entities they interact with, but we decided that it wouldn&#8217;t have a big effect at the moment, so the effort is better spent in different places.</p>
<p>The terminology between sectors/pools can get confusing, because the main reason for implementing pools is to allow multiple sector pools, so they are often discussed together under the name &#8216;sectors&#8217;.</p>
<h3>PRs:</h3>
<ul>
  <li><a href="https://github.com/MovingBlocks/Terasology/pull/2975">Initial pools PR</a></li>
  <li><a href="https://github.com/Vizaxo/Terasology/pull/1">Rename cache to pool</a></li>
  <li><a href="https://github.com/Vizaxo/Terasology/pull/2">Bug fixes and cleanup</a></li>
  <li><a href="https://github.com/Vizaxo/Terasology/pull/3">More fixes</a></li>
  <li><a href="https://github.com/Vizaxo/Terasology/pull/4">More fixes 2</a></li>
</ul>
<p>Discussion issue:</p>
<ul>
  <li><a href="https://github.com/MovingBlocks/Terasology/issues/2976">Sectors and pools implementation/API</a></li>
</ul>
<h2>Sectors</h2>
<p>The second part was based around sector-scope entities. This allows certain entities to undergo simulation, and to be able to make changes in the game world around that simulation. The idea of this is to reduce the rate at which entities need to simulate (or even stop the simulation completely) when the chunks they are associated with aren&#8217;t loaded, allowing more entities to be loaded without affecting performance.</p>
<p>**TODO: wiki link*</p>
<p>PRs:</p>
<ul>
  <li><a href="https://github.com/Vizaxo/Terasology/pull/5">Sector simulation</a></li>
  <li><a href="https://github.com/MovingBlocks/Terasology/pull/3022">Add SectorRegionComponent to allow sector entities to span multiple chunks</a></li>
  <li><a href="https://github.com/MovingBlocks/Terasology/pull/3037">Convert alwaysRelevant to entity scope</a></li>
  <li><a href="https://github.com/MovingBlocks/Terasology/pull/3041">Allow sector entities to simulate at a different rate when loaded</a></li>
</ul>
<p>PR merging pools content, and the first sector simulation PR:</p>
<ul>
  <li><a href="https://github.com/MovingBlocks/Terasology/pull/3009">Sectors/pools v2.0.0 branch</a></li>
</ul>
<p>I&#8217;ve also updated the <a href="https://github.com/terasology/dynamiccities">Dynamic Cities</a> module, which was created for last year&#8217;s GSoC, to use sector simulation:</p>
<ul>
  <li><a href="https://github.com/Terasology/DynamicCities/pull/30">Update settlements to use sector-scope simulation</a></li>
</ul>
<h2>Zones</h2>
<p>The final part of the project was zones (initially called surfaces). Zones allow the world to be split into different areas for world generation, and allow those different areas to have their own section on the world preview. For example, there could be a zone for the surface that controls the height and material of the ground, and a zone for a layer of caves underground. Each of these could be displayed separately on the map shown before a game is created, so altering the world properties will show the effects on every part of the world (previously there could only be one preview map displayed, usually showing the world&#8217;s surface).</p>
<p><a href="https://github.com/Terasology/TutorialWorldGeneration/wiki/Zones">Zones wiki page</a></p>
<p>PRs:</p>
<ul>
  <li>https://github.com/MovingBlocks/Terasology/pull/3054</li>
  <li>https://github.com/MovingBlocks/Terasology/pull/3079</li>
</ul>
<p>I&#8217;ve updated the <a href="https://github.com/terasology/inferno">Inferno</a> module by converting its generation (a hell-like region filled with lava and fire) to be a zone, and turned it into a world plugin, so that it can be added to any world.</p>
<p>**TODO: PR link*</p>

  </div>

  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Vizaxo</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Vizaxo
            
            </li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/Vizaxo"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">Vizaxo</span></a>

          </li>
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>My blog
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
